{"ast":null,"code":"import { wishlist } from \"./state\";\nimport { WISHLIST } from \"./type\";\nexport const wishReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : wishlist;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case WISHLIST:\n      // state.arr.push(action.value)\n      let x = state.arr.find(e => e.user_id == action.value.user_id && e.product_id == action.value.product_id);\n\n      if (x) {\n        let prod = productsState.products.find(e => e.id == x.product_id);\n\n        if (prod.count > x.quantitiy) {\n          x.quantitiy++;\n        }\n      } else {\n        state.arr.push({ ...action.value,\n          id: Date.now(),\n          quantitiy: 1\n        });\n      }\n\n      break;\n\n    default:\n      break;\n  }\n\n  return { ...state\n  };\n};","map":{"version":3,"names":["wishlist","WISHLIST","wishReducer","state","action","type","x","arr","find","e","user_id","value","product_id","prod","productsState","products","id","count","quantitiy","push","Date","now"],"sources":["C:/Users/user/Desktop/online-shop-react/src/store/wishlist/reducer.js"],"sourcesContent":["import { wishlist } from \"./state\";\r\nimport { WISHLIST} from \"./type\";\r\n\r\nexport const wishReducer = (state=wishlist, action)=>{\r\n    switch(action.type){\r\n        case WISHLIST:\r\n            // state.arr.push(action.value)\r\n            let x = state.arr.find(e => e.user_id == action.value.user_id && e.product_id == action.value.product_id)\r\n            if (x) {\r\n                let prod = productsState.products.find(e => e.id == x.product_id);\r\n                if (prod.count > x.quantitiy) {\r\n                    x.quantitiy++\r\n                }\r\n            } else {\r\n                state.arr.push({ ...action.value, id: Date.now(), quantitiy: 1 })\r\n            }\r\n            break;\r\n        \r\n        default:\r\n            break\r\n    }\r\n\r\n    \r\n    return {...state}\r\n}\r\n"],"mappings":"AAAA,SAASA,QAAT,QAAyB,SAAzB;AACA,SAASC,QAAT,QAAwB,QAAxB;AAEA,OAAO,MAAMC,WAAW,GAAG,YAA0B;EAAA,IAAzBC,KAAyB,uEAAnBH,QAAmB;EAAA,IAATI,MAAS;;EACjD,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKJ,QAAL;MACI;MACA,IAAIK,CAAC,GAAGH,KAAK,CAACI,GAAN,CAAUC,IAAV,CAAeC,CAAC,IAAIA,CAAC,CAACC,OAAF,IAAaN,MAAM,CAACO,KAAP,CAAaD,OAA1B,IAAqCD,CAAC,CAACG,UAAF,IAAgBR,MAAM,CAACO,KAAP,CAAaC,UAAtF,CAAR;;MACA,IAAIN,CAAJ,EAAO;QACH,IAAIO,IAAI,GAAGC,aAAa,CAACC,QAAd,CAAuBP,IAAvB,CAA4BC,CAAC,IAAIA,CAAC,CAACO,EAAF,IAAQV,CAAC,CAACM,UAA3C,CAAX;;QACA,IAAIC,IAAI,CAACI,KAAL,GAAaX,CAAC,CAACY,SAAnB,EAA8B;UAC1BZ,CAAC,CAACY,SAAF;QACH;MACJ,CALD,MAKO;QACHf,KAAK,CAACI,GAAN,CAAUY,IAAV,CAAe,EAAE,GAAGf,MAAM,CAACO,KAAZ;UAAmBK,EAAE,EAAEI,IAAI,CAACC,GAAL,EAAvB;UAAmCH,SAAS,EAAE;QAA9C,CAAf;MACH;;MACD;;IAEJ;MACI;EAfR;;EAmBA,OAAO,EAAC,GAAGf;EAAJ,CAAP;AACH,CArBM"},"metadata":{},"sourceType":"module"}